<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#3f51b5">
    <link href="https://fonts.googleapis.com/css?family=Dosis:200,300,400,500,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Overpass:300,400,400i,600,700" rel="stylesheet">

    <link rel="stylesheet" href="/assets/css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/animate.css">
    <link rel="stylesheet" href="/assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/assets/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="/assets/css/magnific-popup.css">
    <link rel="stylesheet" href="/assets/css/aos.css">
    <link rel="stylesheet" href="/assets/css/ionicons.min.css">
    <link rel="stylesheet" href="/assets/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="/assets/css/jquery.timepicker.css">
    <link rel="stylesheet" href="/assets/css/font-awesome.min.css">
    <link rel="stylesheet" href="/assets/css/flaticon.css">
    <link rel="stylesheet" href="/assets/css/icomoon.css">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/sidebar.css">
    <title><%= typeof title != 'undefined' ? title : "Samvedana" %></title>
</head>
<body>
    <%- include('../partials/header') %>
    <%- include('../partials/alerts') %>

    <style>
        header .navbar, .bg-dark, .navbar-dark, .navbar-light {
            background-color: #554635 !important;
            background-image: none !important;
            box-shadow: none !important;
        }
        .body {
            font-family: "Yeseva One", cursive;
        }

        .form-container {
            padding: 20px;
            background-color: #ffffff;
        }

        .form-container h3 {
            margin-top: 20px;
            margin-bottom: 20px;
            font-weight: bolder;
            color: #333;
            font-family: "Yeseva One", cursive;
        }

        .form-check {
            margin-top: 15px;
        }

        .btn {
            background-color: #554635;
        }
        .btn .btn-primary :hover{
            color: #554635;
        }
    </style>
<main>
    <div class="main-container d-flex">
        <!-- Sidebar -->
        <%- include('../partials/agentSidebar') %>

        <!-- Form Content -->
        <div id="main-wrapper">
            <br>
            <% try { %>
            <form action="/agent/collection/collect/<%= pendingCollections[0]._id %>" method="POST" id="checklistForm" class="border m-4 my-3 p-4 bg-white rounded-2 shadow">
                <div class="mb-4">
                    <label for="date">Date:</label>
                    <input type="date" id="date" name="date" class="form-control">
                </div>
                <div class="mb-4">
                    <label for="observer">Observer:</label>
                    <input type="text" id="observer" name="observer" class="form-control">
                </div>

                <h3>Personal Dress and Hygiene</h3>
                <div class="form-group row">
                    <label class="col-md-8">Employees wear proper uniform including proper shoes</label>
                    <div class="col-md-2">
                        <input type="radio" name="uniform" value="yes"> Yes
                        <input type="radio" name="uniform" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Hair restraint is worn</label>
                    <div class="col-md-2">
                        <input type="radio" name="hair" value="yes"> Yes
                        <input type="radio" name="hair" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">FIngernails are short, unpolished, and clean</label>
                    <div class="col-md-2">
                        <input type="radio" name="nails" value="yes"> Yes
                        <input type="radio" name="nails" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Jewelry is limited to watch, simple earrings, and plain ring</label>
                    <div class="col-md-2">
                        <input type="radio" name="jewelry" value="yes"> Yes
                        <input type="radio" name="jewelry" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Hands are washed or gloves are changed at critical points</label>
                    <div class="col-md-2">
                        <input type="radio" name="hands" value="yes"> Yes
                        <input type="radio" name="hands" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Open sores, cuts, or sploits and bandages on hands are completely covered while handling food</label>
                    <div class="col-md-2">
                        <input type="radio" name="cuts" value="yes"> Yes
                        <input type="radio" name="cuts" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Hands are washed thoroughly using proper hand-washing procedures at critical points</label>
                    <div class="col-md-2">
                        <input type="radio" name="wash" value="yes"> Yes
                        <input type="radio" name="wash" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Smoking is observed only in designated areas away from preparation, service, storage, and warewashing areas</label>
                    <div class="col-md-2">
                        <input type="radio" name="smoke" value="yes"> Yes
                        <input type="radio" name="smoke" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Eating, Drinking, or chewing gum are observed only in designated areas away from work areas</label>
                    <div class="col-md-2">
                        <input type="radio" name="eat" value="yes"> Yes
                        <input type="radio" name="eat" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Employees take appropriate actions when coughing or sneezing</label>
                    <div class="col-md-2">
                        <input type="radio" name="cough" value="yes"> Yes
                        <input type="radio" name="cough" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Disposable tissues are used and disposed of when coughing, blowing nose</label>
                    <div class="col-md-2">
                        <input type="radio" name="tissues" value="yes"> Yes
                        <input type="radio" name="tissues" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <h3>Food Storage and Dry Storage</h5>
                <div class="form-group row">
                    <label class="col-md-8">Temperature is between 50°F and 70°F</label>
                    <div class="col-md-2">
                        <input type="radio" name="temperature" value="yes"> Yes
                        <input type="radio" name="temperature" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">All food and paper supplies are 6 to 8 inches off the floor</label>
                    <div class="col-md-2">
                        <input type="radio" name="supplies" value="yes"> Yes
                        <input type="radio" name="supplies" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">All food is labeled with name and delivery date</label>
                    <div class="col-md-2">
                        <input type="radio" name="labelled" value="yes"> Yes
                        <input type="radio" name="labelled" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">The FIFO(First In, First Out) method of inventory is being practiced</label>
                    <div class="col-md-2">
                        <input type="radio" name="fifo" value="yes"> Yes
                        <input type="radio" name="fifo" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Ther is no bulging or leaking canned goods in storage</label>
                    <div class="col-md-2">
                        <input type="radio" name="goods" value="yes"> Yes
                        <input type="radio" name="goods" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Food is protected from contamination</label>
                    <div class="col-md-2">
                        <input type="radio" name="contamination" value="yes"> Yes
                        <input type="radio" name="contamination" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">All surfaces and floors are clean</label>
                    <div class="col-md-2">
                        <input type="radio" name="clean" value="yes"> Yes
                        <input type="radio" name="clean" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Chemicals are stored away from food and other food-related supplies</label>
                    <div class="col-md-2">
                        <input type="radio" name="chemicals" value="yes"> Yes
                        <input type="radio" name="chemicals" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <h3>Large Equipments</h3>
                <div class="form-group row">
                    <label class="col-md-8">Food slicer is clean to sight and touch</label>
                    <div class="col-md-2">
                        <input type="radio" name="slicer" value="yes"> Yes
                        <input type="radio" name="slicer" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Food slicer is sanitized between uses when used with potentially hazardous foods</label>
                    <div class="col-md-2">
                        <input type="radio" name="sanitized" value="yes"> Yes
                        <input type="radio" name="sanitized" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">All other pieces of equipment are clean to sight and touch- equipment on serving lines, storage shelves, cabinets ovens, ranges, fryers, and steam equipment</label>
                    <div class="col-md-2">
                        <input type="radio" name="storage" value="yes"> Yes
                        <input type="radio" name="storage" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-md-8">Exhaust hood and filters are clean</label>
                    <div class="col-md-2">
                        <input type="radio" name="filters" value="yes"> Yes
                        <input type="radio" name="filters" value="no"> No
                    </div>
                    <div class="col-md-2">
                        <input type="text" placeholder="Corrective Action" class="form-control">
                    </div>
                </div>

                <div class="form-check mt-4">
                    <input type="checkbox" class="form-check-input" id="liabilityCheckbox" required>
                    <label class="form-check-label" for="liabilityCheckbox">
                        After filling this form, the food will not be the donor's liability. You will be responsible for distributing the food.
                    </label>
                </div>
                <!-- <<% if (pendingCollections && pendingCollections.length > 0) { %>
                    <% for (let i = 0; i < pendingCollections.length; i++) { %>
                        <form action="/agent/collection/collect/<%= pendingCollections[i]._id %>" method="POST" onsubmit="return validateForm();">
                            <button type="submit" class="btn btn-primary mt-3">Collect</button>
                        </form>
                        
                    <% } %>
                <% } else { %>
                    <p>No collections available.</p>
                <% } %>   -->
                <button type="submit" class="btn btn-primary mt-3" onclick="return validateForm()">Collect food</button>
            </form>
            <% } catch (error) { %>
                <p>Error: <%= error.message %></p>
            <% } %>
        </div>
    </div>
</main>
    <script>
        function validateForm() {
            const checkbox = document.getElementById('liabilityCheckbox');
            if (!checkbox.checked) {
                alert("Please agree to the liability statement before submitting.");
                return false;
            }
            return true;
        }
    </script>
</body>
</html>